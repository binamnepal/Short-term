<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Didi Controller ðŸ˜Œ</title>

<style>
    * { 
        box-sizing: border-box;
        margin: 0;
        padding: 0;
    }

    body {
        height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        overflow: hidden;
        position: relative;
    }

    /* Floating hearts background */
    .heart-bg {
        position: absolute;
        font-size: 20px;
        opacity: 0;
        pointer-events: none;
        animation: float-up 4s ease-in infinite;
    }

    @keyframes float-up {
        0% {
            transform: translateY(0) rotate(0deg);
            opacity: 0;
        }
        10% {
            opacity: 0.6;
        }
        90% {
            opacity: 0.3;
        }
        100% {
            transform: translateY(-100vh) rotate(360deg);
            opacity: 0;
        }
    }

    .card {
        width: 90%;
        max-width: 500px;
        background: white;
        padding: 50px 40px;
        border-radius: 24px;
        text-align: center;
        box-shadow: 0 40px 80px rgba(0,0,0,0.3);
        position: relative;
        animation: card-entrance 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
    }

    @keyframes card-entrance {
        0% {
            transform: scale(0.8) translateY(30px);
            opacity: 0;
        }
        100% {
            transform: scale(1) translateY(0);
            opacity: 1;
        }
    }

    h1 {
        font-size: 2.4rem;
        background: linear-gradient(135deg, #667eea, #764ba2);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        margin-bottom: 16px;
        font-weight: 700;
        letter-spacing: -0.5px;
    }

    p {
        color: #555;
        font-size: 1.05rem;
        line-height: 1.6;
        margin-bottom: 10px;
    }

    .subtitle {
        color: #888;
        font-size: 0.9rem;
        font-style: italic;
    }

    .button-zone {
        margin-top: 40px;
        height: 100px;
        position: relative;
        border-radius: 12px;
    }

    button {
        padding: 16px 42px;
        font-size: 1.15rem;
        font-weight: 600;
        border-radius: 50px;
        border: none;
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
        box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        font-family: inherit;
    }

    button:active {
        transform: scale(0.95);
    }

    #noBtn {
        background: linear-gradient(135deg, #ff6b6b, #ee5a6f);
        color: white;
        position: absolute;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
        transition: all 0.15s ease-out;
    }

    #noBtn:hover {
        box-shadow: 0 12px 28px rgba(255,107,107,0.4);
    }

    #yesBtn {
        background: linear-gradient(135deg, #51cf66, #37b24d);
        color: white;
        display: none;
        margin: 25px auto 0;
        animation: yes-pop 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
    }

    #yesBtn:hover {
        transform: scale(1.05);
        box-shadow: 0 12px 28px rgba(81,207,102,0.4);
    }

    /* Success State */
    .success-container {
        display: none;
        animation: success-show 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
    }

    .success-container.show {
        display: block;
    }

    .result {
        font-size: 2rem;
        font-weight: 700;
        background: linear-gradient(135deg, #51cf66, #37b24d);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        margin-bottom: 25px;
    }

    .emoji-row {
        display: flex;
        justify-content: center;
        gap: 15px;
        margin-bottom: 25px;
        flex-wrap: wrap;
    }

    .emoji-row span {
        font-size: 2.5rem;
        animation: emoji-pop 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
        display: inline-block;
    }

    .emoji-row span:nth-child(1) { animation-delay: 0.1s; }
    .emoji-row span:nth-child(2) { animation-delay: 0.2s; }
    .emoji-row span:nth-child(3) { animation-delay: 0.3s; }
    .emoji-row span:nth-child(4) { animation-delay: 0.4s; }

    @keyframes emoji-pop {
        0% { transform: scale(0) rotate(-180deg); opacity: 0; }
        100% { transform: scale(1) rotate(0deg); opacity: 1; }
    }

    .image-container {
        margin-top: 25px;
        animation: image-reveal 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) 0.3s both;
    }

    .image-frame {
        background: linear-gradient(135deg, #667eea, #764ba2);
        padding: 6px;
        border-radius: 20px;
        display: inline-block;
        box-shadow: 0 15px 40px rgba(102, 126, 234, 0.4);
    }

    #successImg {
        max-width: 100%;
        width: 320px;
        height: auto;
        border-radius: 16px;
        display: block;
        border: 4px solid white;
    }

    @keyframes image-reveal {
        0% { 
            transform: scale(0.5) translateY(30px); 
            opacity: 0; 
        }
        100% { 
            transform: scale(1) translateY(0); 
            opacity: 1; 
        }
    }

    @keyframes success-show {
        0% { 
            transform: translateY(20px); 
            opacity: 0; 
        }
        100% { 
            transform: translateY(0); 
            opacity: 1; 
        }
    }

    .shake {
        animation: shake 0.4s;
    }

    @keyframes shake {
        0%, 100% { transform: translate(-50%, -50%) rotate(0deg); }
        25% { transform: translate(-50%, -50%) rotate(-5deg); }
        75% { transform: translate(-50%, -50%) rotate(5deg); }
    }

    .attempt-counter {
        position: absolute;
        top: 15px;
        right: 20px;
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
        padding: 8px 16px;
        border-radius: 20px;
        font-size: 0.85rem;
        font-weight: 600;
        opacity: 0;
        transition: opacity 0.3s;
    }

    .attempt-counter.show {
        opacity: 1;
    }

    @media (max-width: 500px) {
        .card {
            padding: 40px 30px;
        }
        
        h1 {
            font-size: 2rem;
        }
        
        p {
            font-size: 0.95rem;
        }
        
        button {
            padding: 14px 36px;
            font-size: 1rem;
        }

        .emoji-row span {
            font-size: 2rem;
        }

        #successImg {
            width: 100%;
        }
    }
</style>
</head>

<body>

<div class="card">
    <div class="attempt-counter">Attempts: <span id="counter">0</span></div>
    
    <div id="questionState">
        <h1>Didi Controller? ðŸ˜Œ</h1>
        <p>Fulo ka taro ka sab ka kaina hee aak hazaro meh khushi behna hee</p>
        <p class="subtitle">Will you agree? ðŸŒ¸</p>

        <div class="button-zone">
            <button id="noBtn">No</button>
        </div>

        <button id="yesBtn">Yes! âœ¨</button>
    </div>

    <div class="success-container" id="successState">
        <div class="result">Khushi is the best! ðŸ’š</div>
        
        <div class="emoji-row">
            <span>ðŸŽ‰</span>
            <span>ðŸ’–</span>
            <span>âœ¨</span>
            <span>ðŸŽŠ</span>
        </div>
        <div class="emoji-row">
            <span>âœ¨</span>
            <span>ðŸ’–</span>
            <span>ðŸŽ‰</span>
        </div>

        <div class="image-container">
            <div class="image-frame">
                <img id="successImg" src="/IMG_1180.JPG" alt="Khushi">
            </div>
        </div>
    </div>
</div>

<script>
    const noBtn = document.getElementById("noBtn");
    const yesBtn = document.getElementById("yesBtn");
    const questionState = document.getElementById("questionState");
    const successState = document.getElementById("successState");
    const zone = document.querySelector(".button-zone");
    const counter = document.getElementById("counter");
    const attemptCounter = document.querySelector(".attempt-counter");

    let tries = 0;
    let touchDevice = false;

    function createHeart() {
        const heart = document.createElement('div');
        heart.className = 'heart-bg';
        heart.textContent = 'ðŸ’•';
        heart.style.left = Math.random() * 100 + 'vw';
        heart.style.animationDelay = Math.random() * 4 + 's';
        heart.style.fontSize = (Math.random() * 15 + 15) + 'px';
        document.body.appendChild(heart);
        
        setTimeout(() => heart.remove(), 4000);
    }

    setInterval(createHeart, 800);

    function dodge(e) {
        if (e.type === 'touchstart') {
            touchDevice = true;
            e.preventDefault();
        }

        const maxX = zone.clientWidth - noBtn.offsetWidth;
        const maxY = zone.clientHeight - noBtn.offsetHeight;

        let x = Math.random() * maxX;
        let y = Math.random() * maxY;

        const centerX = maxX / 2;
        const centerY = maxY / 2;
        if (Math.abs(x - centerX) < 30) x = x > centerX ? x + 40 : x - 40;
        if (Math.abs(y - centerY) < 20) y = y > centerY ? y + 30 : y - 30;

        noBtn.style.left = Math.max(0, Math.min(x, maxX)) + "px";
        noBtn.style.top = Math.max(0, Math.min(y, maxY)) + "px";

        noBtn.classList.add('shake');
        setTimeout(() => noBtn.classList.remove('shake'), 400);

        tries++;
        counter.textContent = tries;
        attemptCounter.classList.add('show');

        if (tries === 1) {
            yesBtn.style.display = "inline-block";
        }

        if (tries > 3) {
            const noScale = Math.max(0.5, 1 - (tries * 0.06));
            const yesScale = Math.min(1.4, 1 + (tries * 0.06));
            noBtn.style.transform = `translate(-50%, -50%) scale(${noScale})`;
            yesBtn.style.transform = `scale(${yesScale})`;
        }
    }

    let mouseX = 0;
    let mouseY = 0;
    
    document.addEventListener('mousemove', (e) => {
        mouseX = e.clientX;
        mouseY = e.clientY;
        checkProximity();
    });

    function checkProximity() {
        if (!noBtn.offsetParent) return;
        
        const rect = noBtn.getBoundingClientRect();
        const btnCenterX = rect.left + rect.width / 2;
        const btnCenterY = rect.top + rect.height / 2;
        
        const distance = Math.sqrt(
            Math.pow(mouseX - btnCenterX, 2) + 
            Math.pow(mouseY - btnCenterY, 2)
        );
        
        if (distance < 80) {
            dodge({ type: 'proximity' });
        }
    }

 
    noBtn.addEventListener("mouseenter", (e) => {
        if (!touchDevice) dodge(e);
    });
    
    noBtn.addEventListener("mouseover", (e) => {
        if (!touchDevice) dodge(e);
    });
    
    noBtn.addEventListener("mousedown", (e) => {
        e.preventDefault();
        dodge(e);
    });
    
    noBtn.addEventListener("click", (e) => {
        e.preventDefault();
        e.stopPropagation();
        dodge(e);
        return false;
    });

    noBtn.addEventListener("touchstart", (e) => {
        dodge(e);
    });
    
    noBtn.addEventListener("touchmove", (e) => {
        e.preventDefault();
        dodge(e);
    });
    
    noBtn.addEventListener("touchend", (e) => {
        e.preventDefault();
        dodge(e);
    });

    noBtn.addEventListener("contextmenu", (e) => {
        e.preventDefault();
        dodge(e);
    });

    noBtn.addEventListener("pointerdown", (e) => {
        e.preventDefault();
        dodge(e);
    });
    
    noBtn.addEventListener("pointerenter", (e) => {
        if (!touchDevice) dodge(e);
    });

    
    setInterval(checkProximity, 50);

   
    yesBtn.addEventListener("click", () => {
        questionState.style.display = "none";
        successState.classList.add('show');
    
        
        for (let i = 0; i < 20; i++) {
            setTimeout(createHeart, i * 80);
        }
        
       
        const emojis = ['ðŸŽ‰', 'ðŸŽŠ', 'âœ¨', 'ðŸ’–', 'ðŸŒŸ', 'ðŸ’', 'ðŸŽˆ', 'â­'];
        for (let i = 0; i < 40; i++) {
            setTimeout(() => {
                const emoji = document.createElement('div');
                emoji.textContent = emojis[Math.floor(Math.random() * emojis.length)];
                emoji.style.position = 'fixed';
                emoji.style.left = Math.random() * window.innerWidth + 'px';
                emoji.style.top = '-50px';
                emoji.style.fontSize = (Math.random() * 20 + 25) + 'px';
                emoji.style.transition = 'all 2s ease-in';
                emoji.style.pointerEvents = 'none';
                emoji.style.zIndex = '1000';
                document.body.appendChild(emoji);
                
                setTimeout(() => {
                    emoji.style.top = window.innerHeight + 'px';
                    emoji.style.transform = `rotate(${Math.random() * 720 - 360}deg)`;
                    emoji.style.opacity = '0';
                }, 100);
                
                setTimeout(() => emoji.remove(), 2100);
            }, i * 40);
        }
    });
</script>

</body>
</html>